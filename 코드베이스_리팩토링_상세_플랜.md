# ğŸ”„ ì½”ë“œë² ì´ìŠ¤ ë¦¬íŒ©í† ë§ ìƒì„¸ ì‹¤í–‰ í”Œëœ

## ğŸ“‹ í˜„ì¬ ìƒíƒœ ë¶„ì„

### ğŸ”´ ì¤‘ëŒ€í•œ ë¬¸ì œì ë“¤

1. **íƒ€ì… ì‹œìŠ¤í…œ ì¤‘ë³µ ë° ë¶„ì‚°**
   - `lib/data.ts`: ë ˆê±°ì‹œ Google Sheets ê¸°ë°˜ `PersonaData` ì¸í„°í˜ì´ìŠ¤ ì •ì˜
   - `types/persona.ts`: Supabase ê¸°ë°˜ íƒ€ì… ì •ì˜
   - `lib/api/projects.ts`: ë³„ë„ì˜ `Project` ì¸í„°í˜ì´ìŠ¤ ì¤‘ë³µ ì •ì˜
   - `types/project.ts`ì™€ `lib/api/projects.ts`ì—ì„œ íƒ€ì… ë¶ˆì¼ì¹˜

2. **API ë¼ìš°íŠ¸ êµ¬ì¡° ë¶ˆì¼ì¹˜**
   - `/api/supabase/` ë¶ˆí•„ìš”í•œ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì‚¬ìš©
   - RESTful ì›ì¹™ ë¯¸ì¤€ìˆ˜
   - ì¼ê´€ì„± ì—†ëŠ” ì‘ë‹µ í˜•ì‹

3. **ë ˆê±°ì‹œ ì½”ë“œ ì”ì¡´**
   - `lib/data.ts`ì˜ Google Sheets API í˜¸ì¶œ í•¨ìˆ˜ë“¤
   - ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” `/api/sheets` ì—”ë“œí¬ì¸íŠ¸ ì°¸ì¡°

---

## ğŸ¯ ë‹¨ê³„ë³„ ìƒì„¸ ë¦¬íŒ©í† ë§ ê³„íš

### **Phase 1: íƒ€ì… ì‹œìŠ¤í…œ í†µí•© ë° ì •ë¦¬**

#### ğŸ“ **Phase 1.1: ë ˆê±°ì‹œ íƒ€ì… ì œê±° ë° í†µí•©**

**ì‘ì—… ë‚´ìš©:**
1. `lib/data.ts`ì—ì„œ ë ˆê±°ì‹œ `PersonaData` ì¸í„°í˜ì´ìŠ¤ ì œê±°
2. Google Sheets ê´€ë ¨ í•¨ìˆ˜ë“¤(`fetchPersonaById`, `fetchPersonas`, `fetchKeywords`) ì™„ì „ ì œê±°
3. `types/` í´ë”ì— í†µí•© íƒ€ì… ì‹œìŠ¤í…œ êµ¬ì¶•

**íŒŒì¼ ë³€ê²½ì‚¬í•­:**

```
ì‚­ì œí•  íŒŒì¼:
- lib/data.ts (ì „ì²´ íŒŒì¼ ì‚­ì œ)

ìˆ˜ì •í•  íŒŒì¼:
- types/index.ts (ìƒˆë¡œ ìƒì„±)
- types/api.ts (ìƒˆë¡œ ìƒì„±)  
- types/components.ts (ìƒˆë¡œ ìƒì„±)
- types/business.ts (ìƒˆë¡œ ìƒì„±)
```

**ğŸ¯ AI í”„ë¡¬í”„íŠ¸:**
```
Phase 1.1 - ë ˆê±°ì‹œ íƒ€ì… ì œê±° ë° í†µí•©:

1. lib/data.ts íŒŒì¼ì„ ì™„ì „íˆ ì‚­ì œí•˜ë¼
2. types/ í´ë”ì— ë‹¤ìŒ íŒŒì¼ë“¤ì„ ìƒì„±í•˜ë¼:

types/index.ts:
```typescript
// ëª¨ë“  íƒ€ì… í†µí•© export
export * from './database'
export * from './persona'  
export * from './project'
export * from './interviewee'
export * from './api'
export * from './components'
export * from './business'
```

types/api.ts:
```typescript
// API ìš”ì²­/ì‘ë‹µ ê³µí†µ íƒ€ì…
export interface ApiResponse<T> {
  data: T
  message?: string
  error?: string
  success?: boolean
}

export interface PaginatedApiResponse<T> extends ApiResponse<T[]> {
  pagination?: {
    page: number
    limit: number
    total: number
    totalPages: number
  }
}

export interface ErrorResponse {
  error: string
  message?: string
  statusCode?: number
}
```

types/components.ts:
```typescript
// ì»´í¬ë„ŒíŠ¸ Props íƒ€ì…ë“¤
export interface BaseComponentProps {
  className?: string
  children?: React.ReactNode
}

export interface PersonaCardProps extends BaseComponentProps {
  persona: PersonaData
  onClick?: () => void
  isSelected?: boolean
}

export interface ProjectCardProps extends BaseComponentProps {
  project: Project
  onEdit?: () => void
  onDelete?: () => void
}
```

types/business.ts:
```typescript
// ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ê´€ë ¨ íƒ€ì…
export interface WorkflowQueueItem {
  id: string
  fileName: string
  status: 'pending' | 'processing' | 'completed' | 'failed'
  progress: number
  error?: string
  startTime?: Date
  endTime?: Date
}

export interface ChatMessage {
  id: string
  content: string
  role: 'user' | 'assistant'
  timestamp: Date
  personaId?: string
}
```

3. ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì™€ APIì—ì„œ lib/data.ts importë¥¼ ì œê±°í•˜ê³  types/index.tsì—ì„œ importí•˜ë„ë¡ ë³€ê²½í•˜ë¼
```

**ì˜ˆìƒ ì—ëŸ¬ì™€ í•´ê²°ë°©ë²•:**

| ì—ëŸ¬ ìœ í˜• | ë°œìƒ ìœ„ì¹˜ | í•´ê²° ë°©ë²• |
|-----------|-----------|-----------|
| `Cannot find module './lib/data'` | ì»´í¬ë„ŒíŠ¸ íŒŒì¼ë“¤ | `import { PersonaData } from '../types'`ë¡œ ë³€ê²½ |
| `fetchPersonaById is not defined` | í˜ë¥´ì†Œë‚˜ ê´€ë ¨ ì»´í¬ë„ŒíŠ¸ | Supabase ê¸°ë°˜ ìƒˆë¡œìš´ API í•¨ìˆ˜ë¡œ êµì²´ |
| `PersonaData type mismatch` | ê¸°ì¡´ ì»´í¬ë„ŒíŠ¸ë“¤ | Supabase ìŠ¤í‚¤ë§ˆì™€ ì¼ì¹˜í•˜ëŠ” íƒ€ì…ìœ¼ë¡œ ìˆ˜ì • |

#### ğŸ“ **Phase 1.2: API íƒ€ì… í†µí•©**

**ì‘ì—… ë‚´ìš©:**
1. `lib/api/projects.ts`ì˜ ì¤‘ë³µ íƒ€ì… ì •ì˜ ì œê±°  
2. `types/project.ts`ì™€ í†µí•©
3. ì¼ê´€ëœ API ì‘ë‹µ íƒ€ì… ì ìš©

**ğŸ¯ AI í”„ë¡¬í”„íŠ¸:**
```
Phase 1.2 - API íƒ€ì… í†µí•©:

1. lib/api/projects.tsì—ì„œ Project, CreateProjectData, ProjectMember ì¸í„°í˜ì´ìŠ¤ë“¤ì„ ì œê±°í•˜ë¼
2. types/project.tsì˜ íƒ€ì…ë“¤ì„ ì‚¬ìš©í•˜ë„ë¡ import ìˆ˜ì •:
```typescript
import { 
  Project, 
  CreateProjectData, 
  ProjectMember,
  ProjectApiResponse 
} from '../../types'
```

3. ëª¨ë“  API í•¨ìˆ˜ì˜ ë°˜í™˜ íƒ€ì…ì„ ApiResponse<T> í˜•íƒœë¡œ í†µì¼í•˜ë¼
4. lib/api/persona-criteria.tsë„ ë™ì¼í•˜ê²Œ íƒ€ì… í†µí•© ì ìš©í•˜ë¼
```

**ì˜ˆìƒ Import ìˆ˜ì •ì‚¬í•­:**
```typescript
// ë³€ê²½ ì „
import { Project } from '../api/projects'

// ë³€ê²½ í›„  
import { Project } from '../types'
```

---

### **Phase 2: API ë¼ìš°íŠ¸ ë¦¬íŒ©í† ë§**

#### ğŸ“ **Phase 2.1: /api/supabase/ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì œê±°**

**ì‘ì—… ë‚´ìš©:**
1. `/api/supabase/` ê²½ë¡œë¥¼ ë„ë©”ì¸ ì¤‘ì‹¬ìœ¼ë¡œ ì¬êµ¬ì„±
2. RESTful ì›ì¹™ ì ìš©
3. ì¼ê´€ëœ ì‘ë‹µ í˜•ì‹ êµ¬ì¶•

**íŒŒì¼ ì´ë™ ë° ë³€ê²½:**

```
ì´ë™í•  íŒŒì¼ë“¤:
app/api/supabase/projects/route.ts â†’ app/api/projects/route.ts
app/api/supabase/projects/[id]/route.ts â†’ app/api/projects/[id]/route.ts
app/api/supabase/projects/[id]/members/route.ts â†’ app/api/projects/[id]/members/route.ts
app/api/supabase/projects/members/route.ts â†’ app/api/projects/members/route.ts

app/api/supabase/interviewee/route.ts â†’ app/api/interviews/route.ts
app/api/supabase/interviewee/[id]/route.ts â†’ app/api/interviews/[id]/route.ts

app/api/supabase/persona/route.ts â†’ app/api/personas/route.ts  
app/api/supabase/persona/sync/route.ts â†’ app/api/personas/sync/route.ts

app/api/supabase/persona-criteria/route.ts â†’ app/api/persona-criteria/route.ts

ì‚­ì œí•  í´ë”:
app/api/supabase/ (ì „ì²´ í´ë”)
```

**ğŸ¯ AI í”„ë¡¬í”„íŠ¸:**
```
Phase 2.1 - API ë¼ìš°íŠ¸ ë¦¬íŒ©í† ë§:

1. ë‹¤ìŒê³¼ ê°™ì´ íŒŒì¼ë“¤ì„ ì´ë™í•˜ë¼:
   - app/api/supabase/projects/ â†’ app/api/projects/
   - app/api/supabase/interviewee/ â†’ app/api/interviews/
   - app/api/supabase/persona/ â†’ app/api/personas/
   - app/api/supabase/persona-criteria/ â†’ app/api/persona-criteria/

2. ê° API ë¼ìš°íŠ¸ íŒŒì¼ì—ì„œ ì¼ê´€ëœ ì‘ë‹µ í˜•ì‹ ì ìš©:
```typescript
// ì„±ê³µ ì‘ë‹µ
return NextResponse.json({
  data: result,
  message: "ì„±ê³µ ë©”ì‹œì§€",
  success: true
}, { status: 200 })

// ì—ëŸ¬ ì‘ë‹µ
return NextResponse.json({
  error: "ì—ëŸ¬ ë©”ì‹œì§€",
  success: false
}, { status: 400 })
```

3. HTTP ë©”ì„œë“œë³„ ì ì ˆí•œ í•¸ë“¤ëŸ¬ êµ¬í˜„:
   - GET: ì¡°íšŒ
   - POST: ìƒì„±  
   - PUT: ì „ì²´ ì—…ë°ì´íŠ¸
   - PATCH: ë¶€ë¶„ ì—…ë°ì´íŠ¸
   - DELETE: ì‚­ì œ
```

#### ğŸ“ **Phase 2.2: API í´ë¼ì´ì–¸íŠ¸ í•¨ìˆ˜ ì—…ë°ì´íŠ¸**

**ì‘ì—… ë‚´ìš©:**
1. `lib/api/` í´ë”ì˜ ëª¨ë“  í•¨ìˆ˜ë“¤ì´ ìƒˆë¡œìš´ ì—”ë“œí¬ì¸íŠ¸ ì‚¬ìš©
2. ìƒˆë¡œìš´ ì‘ë‹µ í˜•ì‹ì— ë§ê²Œ ì—ëŸ¬ í•¸ë“¤ë§ ìˆ˜ì •

**ğŸ¯ AI í”„ë¡¬í”„íŠ¸:**
```
Phase 2.2 - API í´ë¼ì´ì–¸íŠ¸ ì—…ë°ì´íŠ¸:

1. lib/api/projects.tsì˜ ëª¨ë“  fetch URLì„ ì—…ë°ì´íŠ¸í•˜ë¼:
```typescript
// ë³€ê²½ ì „
const url = `/api/supabase/projects?company_id=${companyId}&user_id=${userId}`

// ë³€ê²½ í›„
const url = `/api/projects?company_id=${companyId}&user_id=${userId}`
```

2. lib/api/persona-criteria.tsë„ ë™ì¼í•˜ê²Œ ì—…ë°ì´íŠ¸:
```typescript
// ë³€ê²½ ì „
const response = await fetch(`/api/supabase/persona-criteria?${params}`)

// ë³€ê²½ í›„  
const response = await fetch(`/api/persona-criteria?${params}`)
```

3. ìƒˆë¡œìš´ ì‘ë‹µ í˜•ì‹ì— ë§ê²Œ ì—ëŸ¬ í•¸ë“¤ë§ ìˆ˜ì •:
```typescript
if (!response.ok) {
  const errorData = await response.json().catch(() => ({}))
  throw new Error(errorData.error || 'ìš”ì²­ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.')
}

const { data, success, error } = await response.json()
if (!success) {
  throw new Error(error || 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.')
}
return data
```
```

**ì˜ˆìƒ Import ìˆ˜ì •ì‚¬í•­:**

| ì»´í¬ë„ŒíŠ¸/í›… | ë³€ê²½ ì „ | ë³€ê²½ í›„ |
|-------------|---------|---------|
| useProjects | `/api/supabase/projects` | `/api/projects` |
| í”„ë¡œì íŠ¸ ì»´í¬ë„ŒíŠ¸ë“¤ | `/api/supabase/projects/*` | `/api/projects/*` |
| ì¸í„°ë·° ê´€ë ¨ ì»´í¬ë„ŒíŠ¸ | `/api/supabase/interviewee` | `/api/interviews` |

---

### **Phase 3: ì»´í¬ë„ŒíŠ¸ êµ¬ì¡° ìµœì í™”**

#### ğŸ“ **Phase 3.1: ì¸ë±ìŠ¤ íŒŒì¼ ìƒì„±**

**ì‘ì—… ë‚´ìš©:**
1. ëˆ„ë½ëœ ì¸ë±ìŠ¤ íŒŒì¼ë“¤ ìƒì„±
2. ì»´í¬ë„ŒíŠ¸ export í†µí•©
3. import ê²½ë¡œ ë‹¨ìˆœí™”

**ìƒì„±í•  íŒŒì¼ë“¤:**

```
components/ui/index.ts (ìƒˆë¡œ ìƒì„±)
components/auth/index.ts (ê¸°ì¡´ íŒŒì¼ ë³´ì™„)
components/chat/index.ts (ê¸°ì¡´ íŒŒì¼ í™•ì¸)
components/modal/index.ts (ê¸°ì¡´ íŒŒì¼ í™•ì¸)
components/persona/index.ts (ê¸°ì¡´ íŒŒì¼ í™•ì¸)
components/project/index.ts (ê¸°ì¡´ íŒŒì¼ í™•ì¸)
components/search/index.ts (ê¸°ì¡´ íŒŒì¼ í™•ì¸)
components/shared/index.ts (ê¸°ì¡´ íŒŒì¼ í™•ì¸)
```

**ğŸ¯ AI í”„ë¡¬í”„íŠ¸:**
```
Phase 3.1 - ì¸ë±ìŠ¤ íŒŒì¼ ìƒì„±:

1. components/ui/index.tsë¥¼ ìƒì„±í•˜ê³  ëª¨ë“  UI ì»´í¬ë„ŒíŠ¸ë¥¼ exportí•˜ë¼:
```typescript
// shadcn/ui ì»´í¬ë„ŒíŠ¸ë“¤
export * from './button'
export * from './card'
export * from './input'
export * from './label'
export * from './dialog'
export * from './dropdown-menu'
export * from './sheet'
export * from './toast'
export * from './toaster'
export * from './use-toast'
// ... ëª¨ë“  UI ì»´í¬ë„ŒíŠ¸ë“¤
```

2. ê° ë„ë©”ì¸ ì»´í¬ë„ŒíŠ¸ í´ë”ì˜ index.ts íŒŒì¼ë“¤ì„ í™•ì¸í•˜ê³  ëˆ„ë½ëœ exportê°€ ìˆìœ¼ë©´ ì¶”ê°€í•˜ë¼

3. ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì—ì„œ ìƒëŒ€ ê²½ë¡œ importë¥¼ ì ˆëŒ€ ê²½ë¡œë¡œ ë³€ê²½:
```typescript
// ë³€ê²½ ì „
import { Button } from '../ui/button'
import { Card } from '../ui/card'

// ë³€ê²½ í›„
import { Button, Card } from '@/components/ui'
```
```

#### ğŸ“ **Phase 3.2: ì»´í¬ë„ŒíŠ¸ íƒ€ì… ì •ì˜ ë¶„ë¦¬**

**ğŸ¯ AI í”„ë¡¬í”„íŠ¸:**
```
Phase 3.2 - ì»´í¬ë„ŒíŠ¸ íƒ€ì… ë¶„ë¦¬:

1. types/components.tsì— ëª¨ë“  ì»´í¬ë„ŒíŠ¸ Props íƒ€ì…ì„ ì¤‘ì•™í™”í•˜ë¼
2. ê° ì»´í¬ë„ŒíŠ¸ íŒŒì¼ì—ì„œ ì¸ë¼ì¸ íƒ€ì… ì •ì˜ë¥¼ ì œê±°í•˜ê³  types/components.tsì—ì„œ importí•˜ë¼
3. ê³µí†µìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” Props íŒ¨í„´ì„ Base íƒ€ì…ìœ¼ë¡œ ì¶”ìƒí™”í•˜ë¼
```

---

### **Phase 4: ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ì¬êµ¬ì„±**

#### ğŸ“ **Phase 4.1: lib/utils ì„¸ë¶„í™”**

**ì‘ì—… ë‚´ìš©:**
1. `lib/utils.ts`ë¥¼ ê¸°ëŠ¥ë³„ë¡œ ë¶„ë¦¬
2. ìƒˆë¡œìš´ ìœ í‹¸ë¦¬í‹° ëª¨ë“ˆ êµ¬ì¡° ìƒì„±

**ìƒì„±í•  íŒŒì¼ë“¤:**
```
lib/utils/index.ts (ìƒˆë¡œ ìƒì„±)
lib/utils/cn.ts (ìƒˆë¡œ ìƒì„±)
lib/utils/format.ts (ìƒˆë¡œ ìƒì„±)
lib/utils/validation.ts (ìƒˆë¡œ ìƒì„±)
lib/utils/date.ts (ìƒˆë¡œ ìƒì„±)
```

**ğŸ¯ AI í”„ë¡¬í”„íŠ¸:**
```
Phase 4.1 - ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ì„¸ë¶„í™”:

1. lib/utils.tsì˜ ë‚´ìš©ì„ ë¶„ì„í•˜ê³  ë‹¤ìŒê³¼ ê°™ì´ ë¶„ë¦¬í•˜ë¼:

lib/utils/cn.ts:
```typescript
import { type ClassValue, clsx } from "clsx"
import { twMerge } from "tailwind-merge"

export function cn(...inputs: ClassValue[]) {
  return twMerge(clsx(inputs))
}
```

lib/utils/format.ts:
```typescript
// ë‚ ì§œ, í…ìŠ¤íŠ¸, ìˆ«ì í¬ë§·íŒ… í•¨ìˆ˜ë“¤
export function formatDate(date: string | Date): string {
  // êµ¬í˜„
}

export function formatCurrency(amount: number): string {
  // êµ¬í˜„  
}

export function truncateText(text: string, maxLength: number): string {
  // êµ¬í˜„
}
```

lib/utils/validation.ts:
```typescript
// ê²€ì¦ í•¨ìˆ˜ë“¤
export function isValidEmail(email: string): boolean {
  // êµ¬í˜„
}

export function isValidPassword(password: string): boolean {
  // êµ¬í˜„
}
```

lib/utils/index.ts:
```typescript
export * from './cn'
export * from './format'  
export * from './validation'
export * from './date'
```

2. ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì—ì„œ import ê²½ë¡œë¥¼ ì—…ë°ì´íŠ¸í•˜ë¼:
```typescript
// ë³€ê²½ ì „
import { cn } from '@/lib/utils'

// ë³€ê²½ í›„  
import { cn } from '@/lib/utils'
// ë˜ëŠ” ì„¸ë¶€ì ìœ¼ë¡œ
import { cn } from '@/lib/utils/cn'
```
```

#### ğŸ“ **Phase 4.2: íŠ¹ìˆ˜ ëª©ì  íŒŒì¼ ì¬ë°°ì¹˜**

**íŒŒì¼ ì´ë™:**
```
lib/persona-data.ts â†’ lib/data/persona-data.ts
lib/file-utils.ts â†’ lib/utils/file.ts
```

**ğŸ¯ AI í”„ë¡¬í”„íŠ¸:**
```
Phase 4.2 - íŠ¹ìˆ˜ ëª©ì  íŒŒì¼ ì¬ë°°ì¹˜:

1. lib/ í´ë”ì— data/ ì„œë¸Œí´ë”ë¥¼ ìƒì„±í•˜ë¼
2. persona-data.tsë¥¼ lib/data/ë¡œ ì´ë™í•˜ë¼
3. file-utils.tsë¥¼ lib/utils/file.tsë¡œ ì´ë™í•˜ë¼
4. ëª¨ë“  import ê²½ë¡œë¥¼ ì—…ë°ì´íŠ¸í•˜ë¼:
```typescript
// ë³€ê²½ ì „
import { ... } from '@/lib/persona-data'
import { ... } from '@/lib/file-utils'

// ë³€ê²½ í›„
import { ... } from '@/lib/data/persona-data'  
import { ... } from '@/lib/utils/file'
```
```

---

### **Phase 5: API ê³„ì¸µ ìµœì í™”**

#### ğŸ“ **Phase 5.1: API í•¨ìˆ˜ ë„ë©”ì¸ë³„ ì¬ì •ë¦¬**

**ì‘ì—… ë‚´ìš©:**
1. `lib/api/` í´ë” êµ¬ì¡°ë¥¼ ë„ë©”ì¸ ì¤‘ì‹¬ìœ¼ë¡œ ì¬êµ¬ì„±
2. ì¤‘ë³µ ë¡œì§ ì œê±° ë° ê³µí†µ API í´ë¼ì´ì–¸íŠ¸ ì¶”ìƒí™”

**ìƒì„±/ìˆ˜ì •í•  íŒŒì¼ë“¤:**
```
lib/api/base.ts (ìƒˆë¡œ ìƒì„±) - ê³µí†µ API í´ë¼ì´ì–¸íŠ¸
lib/api/auth.ts (ìƒˆë¡œ ìƒì„±)
lib/api/interviews.ts (ìƒˆë¡œ ìƒì„±)  
lib/api/personas.ts (ìƒˆë¡œ ìƒì„±)
lib/api/projects.ts (ê¸°ì¡´ íŒŒì¼ ê°œì„ )
lib/api/persona-criteria.ts (ê¸°ì¡´ íŒŒì¼ ê°œì„ )
lib/api/index.ts (ìƒˆë¡œ ìƒì„±)
```

**ğŸ¯ AI í”„ë¡¬í”„íŠ¸:**
```
Phase 5.1 - API ê³„ì¸µ ìµœì í™”:

1. lib/api/base.tsì— ê³µí†µ API í´ë¼ì´ì–¸íŠ¸ ìƒì„±:
```typescript
import { ApiResponse, ErrorResponse } from '@/types'

class ApiClient {
  private baseURL = ''

  async request<T>(
    endpoint: string, 
    options: RequestInit = {}
  ): Promise<ApiResponse<T>> {
    const response = await fetch(`${this.baseURL}${endpoint}`, {
      headers: {
        'Content-Type': 'application/json',
        ...options.headers,
      },
      ...options,
    })

    if (!response.ok) {
      const errorData: ErrorResponse = await response.json().catch(() => ({
        error: `HTTP ${response.status}: ${response.statusText}`
      }))
      throw new Error(errorData.error)
    }

    return response.json()
  }

  get<T>(endpoint: string) {
    return this.request<T>(endpoint, { method: 'GET' })
  }

  post<T>(endpoint: string, data: any) {
    return this.request<T>(endpoint, {
      method: 'POST',
      body: JSON.stringify(data),
    })
  }

  put<T>(endpoint: string, data: any) {
    return this.request<T>(endpoint, {
      method: 'PUT', 
      body: JSON.stringify(data),
    })
  }

  delete<T>(endpoint: string) {
    return this.request<T>(endpoint, { method: 'DELETE' })
  }
}

export const apiClient = new ApiClient()
```

2. ëª¨ë“  API í•¨ìˆ˜ë“¤ì„ ìƒˆë¡œìš´ apiClient ì‚¬ìš©í•˜ë„ë¡ ë¦¬íŒ©í† ë§í•˜ë¼
3. ì¼ê´€ëœ ì—ëŸ¬ í•¸ë“¤ë§ê³¼ íƒ€ì… ì•ˆì „ì„± í™•ë³´í•˜ë¼
```

#### ğŸ“ **Phase 5.2: React Query í†µí•© ìµœì í™”**

**ğŸ¯ AI í”„ë¡¬í”„íŠ¸:**
```
Phase 5.2 - React Query ìµœì í™”:

1. hooks/ í´ë”ì˜ ëª¨ë“  API ê´€ë ¨ í›…ë“¤ì„ ìƒˆë¡œìš´ API í´ë¼ì´ì–¸íŠ¸ì™€ í†µí•©í•˜ë¼
2. ì¿¼ë¦¬ í‚¤ ë„¤ì´ë° ì»¨ë²¤ì…˜ì„ ì¼ê´€ì„± ìˆê²Œ ì ìš©í•˜ë¼:
```typescript
export const queryKeys = {
  projects: {
    all: ['projects'] as const,
    byCompany: (companyId: string) => ['projects', 'company', companyId] as const,
    detail: (id: string) => ['projects', 'detail', id] as const,
  },
  personas: {
    all: ['personas'] as const,
    byProject: (projectId: string) => ['personas', 'project', projectId] as const,
  },
  // ...
}
```

3. ë‚™ê´€ì  ì—…ë°ì´íŠ¸ì™€ ìºì‹œ ë¬´íš¨í™” ë¡œì§ì„ ê°œì„ í•˜ë¼
```

---

### **Phase 6: ì •ì  ë¦¬ì†ŒìŠ¤ ë° ë¬¸ì„œ ì •ë¦¬**

#### ğŸ“ **Phase 6.1: ë¶ˆí•„ìš”í•œ íŒŒì¼ ì œê±°**

**ì‚­ì œí•  íŒŒì¼ë“¤:**
```
public/placeholder-logo.png
public/placeholder-logo.svg  
public/placeholder-user.jpg
public/placeholder.jpg
public/placeholder.svg
```

**ğŸ¯ AI í”„ë¡¬í”„íŠ¸:**
```
Phase 6.1 - ì •ì  ë¦¬ì†ŒìŠ¤ ì •ë¦¬:

1. public/ í´ë”ì—ì„œ ë‹¤ìŒ placeholder íŒŒì¼ë“¤ì„ ì‚­ì œí•˜ë¼:
   - placeholder-logo.png
   - placeholder-logo.svg
   - placeholder-user.jpg  
   - placeholder.jpg
   - placeholder.svg

2. ì½”ë“œì—ì„œ ì´ë“¤ íŒŒì¼ì„ ì°¸ì¡°í•˜ëŠ” ë¶€ë¶„ì´ ìˆëŠ”ì§€ ê²€ìƒ‰í•˜ê³ , ìˆë‹¤ë©´ ì‹¤ì œ ì‚¬ìš©í•˜ëŠ” ì´ë¯¸ì§€ë¡œ êµì²´í•˜ë¼

3. íŒŒì¼ ë„¤ì´ë°ì„ kebab-caseë¡œ í†µì¼í•˜ë¼:
   - main-image.png âœ“ (ì´ë¯¸ ì˜¬ë°”ë¦„)
   - user-avatar.svg âœ“ (ì´ë¯¸ ì˜¬ë°”ë¦„)
```

#### ğŸ“ **Phase 6.2: ë¬¸ì„œ ì²´ê³„í™”**

**ğŸ¯ AI í”„ë¡¬í”„íŠ¸:**
```
Phase 6.2 - ë¬¸ì„œ ì •ë¦¬:

1. docs/ í´ë” ë‚´ ë¬¸ì„œë“¤ì„ ì£¼ì œë³„ë¡œ ì¬ì •ë¦¬í•˜ë¼:
```
docs/
â”œâ”€â”€ api/
â”‚   â”œâ”€â”€ miso-api-guide.md
â”‚   â””â”€â”€ ì§€ì‹API.md
â”œâ”€â”€ development/
â”‚   â””â”€â”€ mindmap-system-prompt.md
â””â”€â”€ README.md (í†µí•© ê°€ì´ë“œ)
```

2. CLAUDE.mdì™€ ì¤‘ë³µë˜ëŠ” ë‚´ìš©ì€ í†µí•©í•˜ê±°ë‚˜ ì°¸ì¡°ë¡œ ì—°ê²°í•˜ë¼
3. ê°œë°œì ì˜¨ë³´ë”© ê°€ì´ë“œë¥¼ ì‘ì„±í•˜ë¼
```

---

### **Phase 7: í…ŒìŠ¤íŠ¸ ë° ê²€ì¦**

#### ğŸ“ **Phase 7.1: ì»´íŒŒì¼ ë° ë¹Œë“œ ê²€ì¦**

**ğŸ¯ AI í”„ë¡¬í”„íŠ¸:**
```
Phase 7.1 - ì»´íŒŒì¼ ê²€ì¦:

1. TypeScript ì»´íŒŒì¼ ì—ëŸ¬ í•´ê²°:
```bash
npx tsc --noEmit
```

2. ë¹Œë“œ ì„±ê³µ í™•ì¸:
```bash
pnpm run build
```

3. ë¦°íŠ¸ í†µê³¼ í™•ì¸:
```bash
pnpm run lint
```

4. ëª¨ë“  import ì—ëŸ¬ í•´ê²°:
   - ìˆœí™˜ ì°¸ì¡° í•´ê²°
   - ëˆ„ë½ëœ export ì¶”ê°€
   - ì˜ëª»ëœ ê²½ë¡œ ìˆ˜ì •
```

#### ğŸ“ **Phase 7.2: ê¸°ëŠ¥ ê²€ì¦**

**ğŸ¯ AI í”„ë¡¬í”„íŠ¸:**
```
Phase 7.2 - ê¸°ëŠ¥ ê²€ì¦:

1. ê°œë°œ ì„œë²„ ì •ìƒ êµ¬ë™ í™•ì¸:
```bash
pnpm run dev
```

2. ì£¼ìš” ê¸°ëŠ¥ë“¤ ìˆ˜ë™ í…ŒìŠ¤íŠ¸:
   - ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ
   - í”„ë¡œì íŠ¸ ìƒì„±/ì¡°íšŒ
   - ì¸í„°ë·° ì—…ë¡œë“œ
   - í˜ë¥´ì†Œë‚˜ ìƒì„±
   - ì±„íŒ… ê¸°ëŠ¥

3. API ì—”ë“œí¬ì¸íŠ¸ ì‘ë‹µ í™•ì¸:
   - /api/projects
   - /api/interviews  
   - /api/personas
   - /api/persona-criteria

4. ì—ëŸ¬ ë°œìƒ ì‹œ ë¡œê·¸ í™•ì¸ ë° ìˆ˜ì •
```

---

## ğŸš¨ ì˜ˆìƒ ì—ëŸ¬ ë° í•´ê²° ë°©ë²•

### **íƒ€ì… ê´€ë ¨ ì—ëŸ¬**

| ì—ëŸ¬ ë©”ì‹œì§€ | ì›ì¸ | í•´ê²° ë°©ë²• |
|-------------|------|-----------|
| `Module '"../lib/data"' has no exported member 'PersonaData'` | lib/data.ts ì‚­ì œ í›„ íƒ€ì… ì°¸ì¡° ì—ëŸ¬ | `import { PersonaData } from '@/types'`ë¡œ ë³€ê²½ |
| `Property 'row_id' does not exist on type 'PersonaData'` | ë ˆê±°ì‹œ íƒ€ì…ê³¼ Supabase íƒ€ì… ë¶ˆì¼ì¹˜ | Supabase ìŠ¤í‚¤ë§ˆì— ë§ëŠ” ì†ì„±ìœ¼ë¡œ ìˆ˜ì • |
| `Type 'Project' is not assignable to type 'Project'` | ì¤‘ë³µ íƒ€ì… ì •ì˜ë¡œ ì¸í•œ ì¶©ëŒ | í•˜ë‚˜ì˜ íƒ€ì…ë§Œ ì‚¬ìš©í•˜ë„ë¡ import ìˆ˜ì • |

### **API ê´€ë ¨ ì—ëŸ¬**

| ì—ëŸ¬ ë©”ì‹œì§€ | ì›ì¸ | í•´ê²° ë°©ë²• |
|-------------|------|-----------|
| `404 Not Found: /api/supabase/projects` | API ê²½ë¡œ ë³€ê²½ í›„ í´ë¼ì´ì–¸íŠ¸ ë¯¸ì—…ë°ì´íŠ¸ | ìƒˆë¡œìš´ ê²½ë¡œ `/api/projects`ë¡œ ìˆ˜ì • |
| `fetch is not defined` | ì„œë²„ ì‚¬ì´ë“œì—ì„œ fetch ì‚¬ìš© | Node.js 18+ ì‚¬ìš© ë˜ëŠ” polyfill ì¶”ê°€ |
| `Response schema mismatch` | ìƒˆë¡œìš´ ì‘ë‹µ í˜•ì‹ê³¼ ê¸°ì¡´ ì½”ë“œ ë¶ˆì¼ì¹˜ | ì‘ë‹µ íŒŒì‹± ë¡œì§ ìˆ˜ì • |

### **Import ê´€ë ¨ ì—ëŸ¬**

| ì—ëŸ¬ ë©”ì‹œì§€ | ì›ì¸ | í•´ê²° ë°©ë²• |
|-------------|------|-----------|
| `Cannot resolve module '@/components/ui'` | ì¸ë±ìŠ¤ íŒŒì¼ ìƒì„± ì „ import ì‹œë„ | ì¸ë±ìŠ¤ íŒŒì¼ ìƒì„± í›„ ì¬ì‹œë„ |
| `Circular dependency detected` | ìˆœí™˜ ì°¸ì¡° ë°œìƒ | ì˜ì¡´ì„± ê·¸ë˜í”„ ë¶„ì„ í›„ êµ¬ì¡° ê°œì„  |
| `Module not found: Can't resolve '../utils'` | íŒŒì¼ ì´ë™ í›„ ê²½ë¡œ ë¯¸ìˆ˜ì • | ìƒˆë¡œìš´ ê²½ë¡œë¡œ import ìˆ˜ì • |

---

## ğŸ“Š ë¦¬íŒ©í† ë§ ì™„ë£Œ í›„ ê¸°ëŒ€ íš¨ê³¼

### **ê°œë°œì ê²½í—˜ ê°œì„ **
- âœ… ì¼ê´€ëœ import ê²½ë¡œ
- âœ… íƒ€ì… ì•ˆì „ì„± í–¥ìƒ  
- âœ… ì½”ë“œ ìë™ì™„ì„± ê°œì„ 
- âœ… ë¹Œë“œ ì‹œê°„ ë‹¨ì¶•

### **ì½”ë“œ í’ˆì§ˆ í–¥ìƒ**
- âœ… ë ˆê±°ì‹œ ì½”ë“œ ì œê±°
- âœ… RESTful API êµ¬ì¡°
- âœ… ì¼ê´€ëœ ì—ëŸ¬ í•¸ë“¤ë§
- âœ… ëª¨ë“ˆí™”ëœ êµ¬ì¡°

### **ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ**
- âœ… ë„ë©”ì¸ë³„ ëª…í™•í•œ ë¶„ë¦¬
- âœ… ê³µí†µ ë¡œì§ ì¤‘ì•™í™”
- âœ… í…ŒìŠ¤íŠ¸ ìš©ì´ì„± ì¦ëŒ€
- âœ… ë¬¸ì„œí™” ì²´ê³„ êµ¬ì¶•

---

## ğŸ¯ ì‹¤í–‰ ìˆœì„œ ìš”ì•½

1. **Phase 1**: íƒ€ì… ì‹œìŠ¤í…œ í†µí•© (ê°€ì¥ ìš°ì„ )
2. **Phase 2**: API ë¼ìš°íŠ¸ ë¦¬íŒ©í† ë§  
3. **Phase 3**: ì»´í¬ë„ŒíŠ¸ êµ¬ì¡° ìµœì í™”
4. **Phase 4**: ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ì¬êµ¬ì„±
5. **Phase 5**: API ê³„ì¸µ ìµœì í™”
6. **Phase 6**: ì •ì  ë¦¬ì†ŒìŠ¤ ì •ë¦¬
7. **Phase 7**: í…ŒìŠ¤íŠ¸ ë° ê²€ì¦

ê° PhaseëŠ” ë…ë¦½ì ìœ¼ë¡œ ì§„í–‰ ê°€ëŠ¥í•˜ë©°, Phase 1ê³¼ 2ëŠ” ë³‘ë ¬ë¡œ ì§„í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ëª¨ë“  ë‹¨ê³„ì—ì„œ ì ì§„ì ìœ¼ë¡œ í…ŒìŠ¤íŠ¸í•˜ì—¬ ê¸°ì¡´ ê¸°ëŠ¥ì— ì˜í–¥ì„ ì£¼ì§€ ì•Šë„ë¡ ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤.